<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lemma 6 - LM Theory</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>
    window.MathJax = {
        loader: {load: ['[tex]/mathtools']},
        tex: {
            tags: 'all',  // Automatically number all display equations
            // loader: {load: ['[tex]/autoload']},               // TODO: remove
            // packages: {'[+]': ['autoload', 'mathtools']},     // TODO: remove
            packages: {'[+]': ['mathtools']},
            autoload: {
                coloneqq: ['mathtools']
            },
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            macros: {
                emph: ["\\textit{#1}", 1],
bm: ["\\boldsymbol{\\mathbf{#1}}", 1],
mathds: ["\\mathbf{#1}", 1],
textsl: ["\\textit{#1}", 1],
xspace: "",
Tr: "\\operatorname{Tr}",
softmaxOp: "\\operatorname{softmax}",
lip: "\\operatorname{Lip}",
diag: "\\operatorname{diag}",
spaces: "\\hspace{2mm}",
unif: "\\pazocal{U}",
softmax: ["\\softmaxOp\\left(#1\\right)", 1],
norm: ["\\left\\lVert#1\\right\\rVert", 1],
andriy: ["\\textcolor{blue}{[AM: #1]}", 1],
hyunjik: ["\\textcolor{red}{[HK: #1]}", 1],
george: ["\\textcolor{magenta}{[George: #1]}", 1]

            },
            environments: {
                subequations: ["{", "}"]

            },
        },
        options: {
            renderActions: {
                addMenu: []
            },
            ignoreHtmlClass: "tex2jax_ignore",
            skipHtmlTags: ["script", "noscript", "style", "textarea", "pre", "code"]
        }
    };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <header>
        <h1>Theoretical Results on Transformers and Language Models</h1>
        <nav>
            <a href="/">Home</a>
            <a href="/examples">Examples</a>
            <a href="/contact">Contact</a>
            <a href="/contribute">Contribute</a>
            <div class="hover-container">
                <span class="hover-word"><a href="/library">Index</a></span>
                <div class="dropdown-content">
                    <a href="/library">Full Index</a>
                    <a href="/library/papers">Papers</a>
                    <a href="/library/definitions">Definitions</a>
                    <a href="/library/axioms">Axioms</a>
                    <a href="/library/lemmas">Lemmas</a>
                    <a href="/library/theorems">Theorems</a>
                    <a href="/library/corollaries">Corollaries</a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        
<section id="Block Row Norm Inequality">
    <h2>Lemma 6: Block Row Norm Inequality</h2>
    <section id="Statement">
        <h3>Statement</h3>
        <div>
            Let $A$ be a block matrix with block rows $A_1, \ldots, A_N$. Then $\|A\|_2 \leq \sqrt{\sum_i \|A_i\|_2^2}$, and equality holds if and only if the first right singular vectors of the $A_i$ align.
        </div>
    </section>
    <section id="motivation">
        <h3>Motivation of Statement (AI-Generated)</h3>
        <div>
            The given inequality for block matrices is particularly useful in numerical linear algebra and matrix analysis. It provides an upper bound for the spectral norm of a block matrix in terms of the spectral norms of its block rows. This can be applied in scenarios where the matrix is too large to handle directly, but its block structure can be exploited to simplify computations. The condition for equality is also significant in understanding the alignment of singular vectors, which can be crucial in applications like signal processing and data compression.
        </div>
    </section>
        
<section id="OriginalProof">
<h3>Original Proof</h3>
\begin{equation*}
\|A\|_2^2 = \left\Vert \begin{bmatrix} A_1 \\ \vdots \\ A_N \\ \end{bmatrix}\right\Vert_2^2 = \sup_{\|\mathbf{x}\|_2=1} \left\Vert\begin{bmatrix} A_1 \\ \vdots \\ A_N \\ \end{bmatrix} \mathbf{x}\right\Vert_2^2 = \sup_{\|\mathbf{x}\|_2=1} \sum_i \|A_i \mathbf{x}\|_2^2 \leq \sum_i \sup_{\|\mathbf{x}\|_2=1} \|A_i \mathbf{x}\|_2^2 = \sum_i \|A_i\|_2^2.
\end{equation*}
Note that equality holds if and only if the first right singular vectors of the $A_i$ align.
</section>

    <section id="proofExplanation">
        <h4>Explanation of Proof (AI-Generated)</h4>
        <div>
            The proof demonstrates the relationship between the squared 2-norm of a block matrix \( A \) and the sum of the squared 2-norms of its submatrices \( A_i \). Here are the steps explained:

1. <i></i>Expression of the 2-norm squared of \( A \)<i></i>:
   \[
   \|A\|_2^2 = \left\Vert \begin{bmatrix} A_1 \\ \vdots \\ A_N \\ \end{bmatrix}\right\Vert_2^2
   \]
   This step expresses the squared 2-norm of the matrix \( A \) in terms of its block components \( A_i \).

2. <i></i>Supremum over unit vectors<i></i>:
   \[
   \|A\|_2^2 = \sup_{\|\mathbf{x}\|_2=1} \left\Vert\begin{bmatrix} A_1 \\ \vdots \\ A_N \\ \end{bmatrix} \mathbf{x}\right\Vert_2^2
   \]
   The squared 2-norm of \( A \) is defined as the supremum of the squared 2-norm of \( A \mathbf{x} \) over all unit vectors \( \mathbf{x} \).

3. <i></i>Sum of squared norms<i></i>:
   \[
   \sup_{\|\mathbf{x}\|_2=1} \left\Vert\begin{bmatrix} A_1 \\ \vdots \\ A_N \\ \end{bmatrix} \mathbf{x}\right\Vert_2^2 = \sup_{\|\mathbf{x}\|_2=1} \sum_i \|A_i \mathbf{x}\|_2^2
   \]
   The squared 2-norm of the block matrix \( A \mathbf{x} \) is the sum of the squared 2-norms of each block component \( A_i \mathbf{x} \).

4. <i></i>Inequality using supremum<i></i>:
   \[
   \sup_{\|\mathbf{x}\|_2=1} \sum_i \|A_i \mathbf{x}\|_2^2 \leq \sum_i \sup_{\|\mathbf{x}\|_2=1} \|A_i \mathbf{x}\|_2^2
   \]
   The supremum of a sum is less than or equal to the sum of the suprema.

5. <i></i>Sum of squared norms of \( A_i \)<i></i>:
   \[
   \sum_i \sup_{\|\mathbf{x}\|_2=1} \|A_i \mathbf{x}\|_2^2 = \sum_i \|A_i\|_2^2
   \]
   The supremum of the squared 2-norm of \( A_i \mathbf{x} \) over all unit vectors \( \mathbf{x} \) is the squared 2-norm of \( A_i \).

6. <i></i>Conclusion<i></i>:
   \[
   \|A\|_2^2 \leq \sum_i \|A_i\|_2^2
   \]
   Combining the steps, we conclude that the squared 2-norm of \( A \) is less than or equal to the sum of the squared 2-norms of its submatrices \( A_i \).

7. <i></i>Condition for equality<i></i>:
   Note that equality holds if and only if the first right singular vectors of the \( A_i \) align.
   This condition specifies when the inequality becomes an equality, which occurs when the first right singular vectors of all \( A_i \) are aligned.
        </div>
    </section>




    <section id="Reference">
        <h3>Reference</h3>
            <p>Title: <a href="/library/papers/the_lipschitz_constant_of_self-attention/index.html">The Lipschitz Constant of Self-Attention</a></p>
            <p>Authors: Hyunjik Kim, George Papamakarios, and Andriy Mnih</p>
            <p>URL: <a href="https://arxiv.org/abs/2006.04710">https://arxiv.org/abs/2006.04710</a></p>
    </section>
    <section id="Resources">
        <!-- Bibtex Modal -->
        <div id="bibtexModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeBibtexModal()">&times;</span>
            <p>@misc{kim2021lipschitzconstantselfattention,<br>&emsp;title={The Lipschitz Constant of Self-Attention},<br>&emsp;author={Hyunjik Kim and George Papamakarios and Andriy Mnih},<br>&emsp;year={2021},<br>&emsp;eprint={2006.04710},<br>&emsp;archivePrefix={arXiv},<br>&emsp;primaryClass={stat.ML},<br>&emsp;url={https://arxiv.org/abs/2006.04710}<br>}</p>
            <button class="modal-button" onclick="copyBibtex()">Copy</button>
        </div>
        </div>

        <!-- Latex Modal -->
        <div id="latexModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLatexModal()">&times;</span>
            <p class="tex2jax_ignore"><code>\begin{lemma} \label{lemma:block_rows}
Let A be a block matrix with block rows $A_1, \ldots, A_N$. Then $\|A\|_2 \leq \sqrt{\sum_i \|A_i\|_2^2}$, and equality holds if and only if the first right singular vectors of the $A_i$ align.
\end{lemma}</code></p>
            <button class="modal-button" onclick="copyLatex()">Copy</button>
        </div>
        </div>

        <h3>Resources</h3>    
            <p>
                <b>BibTex</b>:
                    <button onclick="copyBibtex()">Copy</button>
                    <button onclick="openBibtexModel()">Show</button>
            </p>
            <p>
                <b>LaTeX</b>:
                    <button onclick="copyLatex()">Copy</button>
                    <button onclick="openLatexModal()">Show</button>
            </p>
        <script>
            function copyBibtex() {
                var textToCopy = `@misc{kim2021lipschitzconstantselfattention,
  title={The Lipschitz Constant of Self-Attention},
  author={Hyunjik Kim and George Papamakarios and Andriy Mnih},
  year={2021},
  eprint={2006.04710},
  archivePrefix={arXiv},
  primaryClass={stat.ML},
  url={https://arxiv.org/abs/2006.04710}
}`;
                navigator.clipboard.writeText(textToCopy).then(function() {
                    //alert('Text copied to clipboard: ' + textToCopy);
                }, function(err) {
                    console.error('Failed to copy text: ', err);
                });
            }
            
            function copyLatex() {
                var textToCopy = `\\begin{lemma} \\label{lemma:block_rows}
Let A be a block matrix with block rows $A_1, \\ldots, A_N$. Then $\\|A\\|_2 \\leq \\sqrt{\\sum_i \\|A_i\\|_2^2}$, and equality holds if and only if the first right singular vectors of the $A_i$ align.
\\end{lemma}`;
                navigator.clipboard.writeText(textToCopy).then(function() {
                    //alert('Text copied to clipboard: ' + textToCopy);
                }, function(err) {
                    console.error('Failed to copy text: ', err);
                });
            }

            // Bibtex
            function openBibtexModel() {
                document.getElementById('bibtexModal').style.display = 'block';
            }
            function closeBibtexModal() {
                document.getElementById('bibtexModal').style.display = 'none';
            }

            // Latex
            function openLatexModal() {
                document.getElementById('latexModal').style.display = 'block';
            }
            function closeLatexModal() {
                document.getElementById('latexModal').style.display = 'none';
            }
        </script>
    </section>
</section>

    </main>
    <footer>
        <p>&copy; 2024 Theoretical Results on Transformers and Language Models</p>
    </footer>
</body>
</html>