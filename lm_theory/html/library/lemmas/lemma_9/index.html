<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lemma 9 - LM Theory</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>
    window.MathJax = {
        loader: {load: ['[tex]/mathtools']},
        tex: {
            tags: 'all',  // Automatically number all display equations
            // loader: {load: ['[tex]/autoload']},               // TODO: remove
            // packages: {'[+]': ['autoload', 'mathtools']},     // TODO: remove
            packages: {'[+]': ['mathtools']},
            autoload: {
                coloneqq: ['mathtools']
            },
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            macros: {
                emph: ["\\textit{#1}", 1],
mathds: ["\\mathbf{#1}", 1],
bm: ["\\boldsymbol{\\mathbf{#1}}", 1],
Tr: "\\operatorname{Tr}",
softmaxOp: "\\operatorname{softmax}",
lip: "\\operatorname{Lip}",
diag: "\\operatorname{diag}",
spaces: "\\hspace{2mm}",
unif: "\\pazocal{U}",
softmax: ["\\softmaxOp\\left(#1\\right)", 1],
norm: ["\\left\\lVert#1\\right\\rVert", 1],
andriy: ["\\textcolor{blue}{[AM: #1]}", 1],
hyunjik: ["\\textcolor{red}{[HK: #1]}", 1],
george: ["\\textcolor{magenta}{[George: #1]}", 1]

            },
        },
        options: {
            renderActions: {
                addMenu: []
            },
            ignoreHtmlClass: "tex2jax_ignore",
            skipHtmlTags: ["script", "noscript", "style", "textarea", "pre", "code"]
        }
    };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <header>
        <h1>Theoretical Results on Transformers and Language Models</h1>
        <nav>
            <a href="/">Home</a>
            <a href="/examples">Examples</a>
            <a href="/contact">Contact</a>
            <a href="/contribute">Contribute</a>
            <div class="hover-container">
                <span class="hover-word"><a href="/library">Index</a></span>
                <div class="dropdown-content">
                    <a href="/library">Full Index</a>
                    <a href="/library/papers">Papers</a>
                    <a href="/library/definitions">Definitions</a>
                    <a href="/library/axioms">Axioms</a>
                    <a href="/library/lemmas">Lemmas</a>
                    <a href="/library/theorems">Theorems</a>
                    <a href="/library/corollaries">Corollaries</a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        
<section id="Block Column Norm Inequality">
    <h2>Lemma 9: Block Column Norm Inequality</h2>
    <section id="Statement">
        <h3>Statement</h3>
        <div>
            Let $A$ be a block matrix with block columns $A_1, \ldots, A_N$. Then $\|A\|_2 \leq \sqrt{\sum_i \|A_i\|_2^2}$.
        </div>
    </section>
    <section id="motivation">
        <h3>Motivation of Statement (AI-Generated)</h3>
        <div>
            The given inequality is useful in the context of block matrices, particularly when estimating the spectral norm of a matrix. It provides an upper bound for the spectral norm of a block matrix in terms of the spectral norms of its block columns. This can be particularly helpful in numerical linear algebra and matrix analysis, where such bounds are often needed to ensure stability and convergence of algorithms.
        </div>
    </section>
        
<section id="OriginalProof">
<h3>Original Proof</h3>
\begin{align*}
\|A\|_2 &= \|[A_1, \ldots, A_N]\|_2 = \sup_{\sum_i\|\mathbf{x}_i\|^2_2=1}  \left\Vert [A_1, \ldots, A_N] \begin{bmatrix} \mathbf{x}_1\\ \vdots \\ \mathbf{x}_N \\ \end{bmatrix} \right\Vert_2^2 = \sup_{\sum_i\|\mathbf{x}_i\|^2_2=1} \|\sum_i A_i \mathbf{x}_i\|_2 \\ 
& \leq \sup_{\sum_i\|\mathbf{x}_i\|^2_2=1} \sum_i \|A_i \mathbf{x}_i\|_2 = \sup_{\|\mathbf{e}_i\|_2=1, \sum_i \lambda_i^2 =1} \sum_i \lambda_i \|A_i \mathbf{e}_i\|_2 = \sup_{\sum_i \lambda_i^2 =1} \sum_i \lambda_i \|A_i\|_2 \\
& \leq \sqrt{\sum_i \|A_i\|_2^2},
\end{align*}
where we are using the substitution $\mathbf{x}_i = \lambda_i \mathbf{e}_i$, and the last inequality holds by e.g.~Cauchy--Schwartz inequality on $[\lambda_1, \ldots, \lambda_N]$ and $[\|A_1\|_2, \ldots, \|A_N\|_2]$.
</section>

    <section id="proofExplanation">
        <h4>Explanation of Proof (AI-Generated)</h4>
        <div>
            The proof demonstrates an upper bound for the 2-norm of a matrix \( A \) composed of submatrices \( A_1, \ldots, A_N \). Here are the steps explained:

1. <i></i>Definition of the 2-norm<i></i>: The 2-norm of the matrix \( A \) is defined as:
   \[
   \|A\|_2 = \|[A_1, \ldots, A_N]\|_2
   \]
   This is the supremum of the 2-norm of \( A \) applied to a vector, over all vectors with unit 2-norm.

2. <i></i>Supremum over unit vectors<i></i>: The expression is rewritten to consider the supremum over vectors \( \mathbf{x}_i \) such that the sum of their squared norms is 1:
   \[
   \|A\|_2 = \sup_{\sum_i\|\mathbf{x}_i\|^2_2=1}  \left\Vert [A_1, \ldots, A_N] \begin{bmatrix} \mathbf{x}_1\\ \vdots \\ \mathbf{x}_N \\ \end{bmatrix} \right\Vert_2^2
   \]

3. <i></i>Matrix-vector multiplication<i></i>: This is simplified to:
   \[
   \sup_{\sum_i\|\mathbf{x}_i\|^2_2=1} \|\sum_i A_i \mathbf{x}_i\|_2
   \]

4. <i></i>Triangle inequality<i></i>: Using the triangle inequality, we get:
   \[
   \leq \sup_{\sum_i\|\mathbf{x}_i\|^2_2=1} \sum_i \|A_i \mathbf{x}_i\|_2
   \]

5. <i></i>Substitution<i></i>: By substituting \( \mathbf{x}_i = \lambda_i \mathbf{e}_i \) where \( \|\mathbf{e}_i\|_2 = 1 \) and \( \sum_i \lambda_i^2 = 1 \), the expression becomes:
   \[
   = \sup_{\|\mathbf{e}_i\|_2=1, \sum_i \lambda_i^2 =1} \sum_i \lambda_i \|A_i \mathbf{e}_i\|_2
   \]

6. <i></i>Norm property<i></i>: Recognizing that \( \|A_i \mathbf{e}_i\|_2 \leq \|A_i\|_2 \), we get:
   \[
   = \sup_{\sum_i \lambda_i^2 =1} \sum_i \lambda_i \|A_i\|_2
   \]

7. <i></i>Cauchy-Schwarz inequality<i></i>: Applying the Cauchy-Schwarz inequality to the vectors \( [\lambda_1, \ldots, \lambda_N] \) and \( [\|A_1\|_2, \ldots, \|A_N\|_2] \), we obtain:
   \[
   \leq \sqrt{\sum_i \|A_i\|_2^2}
   \]

Thus, the 2-norm of the matrix \( A \) is bounded above by the square root of the sum of the squares of the 2-norms of its submatrices \( A_i \).
        </div>
    </section>




    <section id="Reference">
        <h3>Reference</h3>
            <p>Title: <a href="/library/papers/the_lipschitz_constant_of_self-attention/index.html">The Lipschitz Constant of Self-Attention</a></p>
            <p>Authors: Hyunjik Kim, George Papamakarios, and Andriy Mnih</p>
            <p>URL: <a href="https://arxiv.org/abs/2006.04710">https://arxiv.org/abs/2006.04710</a></p>
    </section>
    <section id="Resources">
        <!-- Bibtex Modal -->
        <div id="bibtexModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeBibtexModal()">&times;</span>
            <p>@misc{kim2021lipschitzconstantselfattention,<br>&emsp;title={The Lipschitz Constant of Self-Attention},<br>&emsp;author={Hyunjik Kim and George Papamakarios and Andriy Mnih},<br>&emsp;year={2021},<br>&emsp;eprint={2006.04710},<br>&emsp;archivePrefix={arXiv},<br>&emsp;primaryClass={stat.ML},<br>&emsp;url={https://arxiv.org/abs/2006.04710}<br>}</p>
            <button class="modal-button" onclick="copyBibtex()">Copy</button>
        </div>
        </div>

        <!-- Latex Modal -->
        <div id="latexModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLatexModal()">&times;</span>
            <p class="tex2jax_ignore"><code>\begin{lemma} \label{lemma:block_cols}
Let A be a block matrix with block columns $A_1, \ldots, A_N$. Then $\|A\|_2 \leq \sqrt{\sum_i \|A_i\|_2^2}$.
\end{lemma}</code></p>
            <button class="modal-button" onclick="copyLatex()">Copy</button>
        </div>
        </div>

        <h3>Resources</h3>    
            <p>
                <b>BibTex</b>:
                    <button onclick="copyBibtex()">Copy</button>
                    <button onclick="openBibtexModel()">Show</button>
            </p>
            <p>
                <b>LaTeX</b>:
                    <button onclick="copyLatex()">Copy</button>
                    <button onclick="openLatexModal()">Show</button>
            </p>
        <script>
            function copyBibtex() {
                var textToCopy = `@misc{kim2021lipschitzconstantselfattention,
  title={The Lipschitz Constant of Self-Attention},
  author={Hyunjik Kim and George Papamakarios and Andriy Mnih},
  year={2021},
  eprint={2006.04710},
  archivePrefix={arXiv},
  primaryClass={stat.ML},
  url={https://arxiv.org/abs/2006.04710}
}`;
                navigator.clipboard.writeText(textToCopy).then(function() {
                    //alert('Text copied to clipboard: ' + textToCopy);
                }, function(err) {
                    console.error('Failed to copy text: ', err);
                });
            }
            
            function copyLatex() {
                var textToCopy = `\\begin{lemma} \\label{lemma:block_cols}
Let A be a block matrix with block columns $A_1, \\ldots, A_N$. Then $\\|A\\|_2 \\leq \\sqrt{\\sum_i \\|A_i\\|_2^2}$.
\\end{lemma}`;
                navigator.clipboard.writeText(textToCopy).then(function() {
                    //alert('Text copied to clipboard: ' + textToCopy);
                }, function(err) {
                    console.error('Failed to copy text: ', err);
                });
            }

            // Bibtex
            function openBibtexModel() {
                document.getElementById('bibtexModal').style.display = 'block';
            }
            function closeBibtexModal() {
                document.getElementById('bibtexModal').style.display = 'none';
            }

            // Latex
            function openLatexModal() {
                document.getElementById('latexModal').style.display = 'block';
            }
            function closeLatexModal() {
                document.getElementById('latexModal').style.display = 'none';
            }
        </script>
    </section>
</section>

    </main>
    <footer>
        <p>&copy; 2024 Theoretical Results on Transformers and Language Models</p>
    </footer>
</body>
</html>